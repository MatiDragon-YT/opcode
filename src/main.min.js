import{$,css}from"./utils/dom.js";import{sanny}from"./utils/hl.js";const SETTINGS={LOG_BY_CONSOLE:!0},print=(t,e="")=>1==SETTINGS.LOG_BY_CONSOLE?console.log(t,e):alert(t);function keyPressed(t,e,n){t.onkeydown=function(t){t.keyCode===e&&n()}}$("#myInput").onkeydown=()=>keyPressed($("#myInput"),13,()=>start()),$("#file-load").onclick=()=>load(),$("#file-clear").onclick=()=>file.clear();const file={get:async function(t,e){const n=t.type||"text";return fetch(t.url).then(t=>"json"==n?t.json():t.text()).then(t=>e(t)).catch(t=>print(t))},write:(t="")=>{$("#myUL").innerHTML=t},format:t=>{t.innerHTML=t.innerHTML.replace(/^(.+)/gim,"<li style><pre>$1</pre></li>")},clear:()=>{file.write(),$("#myInput").value="",found(0)}},dir={local:()=>"https://matidragon-yt.github.io"==origin?origin+"/opcode-search/":origin+"/",imagen:()=>dir.local()+"static/images/",hash:{current:()=>location.hash,clear:()=>{history.pushState("",document.title,location.pathname)}}},doc={header:()=>document.title.split(" - "),title:()=>doc.header()[0],subtitle:()=>doc.header()[1],description:()=>{const t=$("meta[name='description']");return null!=t?t.getAttribute("content"):"MatiDragon"}};function found(t=$('li[style=""]').length){$("#found").innerHTML=t}function load(t=dir.local()+"/assets/opcodes/sa.txt"){file.get({url:t},t=>{file.write(t),file.format($("ul")),found(),start()})}function restarRenderNav(){const t=$("item")[0];css([t,{display:"none"}]),setTimeout(()=>{css([t,{display:"block"}])},0)}function start(){const o=$("#myInput").value.toUpperCase().replaceAll(" ","_"),t=$("#myUL li");0==t.length&&""!=o&&load(),t.forEach(t=>{var e=t.getElementsByTagName("pre")[0];const n=e.textContent||e.innerText;-1<n.toUpperCase().indexOf(o)?css([t,{display:""}]):css([t,{display:"none"}])});var e=$("#limit-h").value;(0==e||$('li[style=""]').length<e)&&sanny(),found()}print("%cStop! better download the repository.\nhttps://github.com/MatiDragon-YT/opcode-search","color: black;background-color: #4caf50;font-size: 1rem;font-weight:bold;padding:.45rem 1rem");